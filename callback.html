<!DOCTYPE html>
<html>
<head>
	<title>test</title>
</head>
<body>
<script type="text/javascript">
/*****************************************
 * 简单 callback 回调
 *****************************************/
function callsumfn(x,y,b,c,callback){
	setTimeout(()=>{
		let sum = x+y+b+c;
		callback(sum);
	},1000);
}
callsumfn(1,3,5,7,(res)=>{
	console.log(res);
})

/*****************************************
 * 当两个异步函数 分别返回两个值之后，再执行加和
 *****************************************/
function sumadd(addX,addY,addsum){
	let sumx,sumy;
	addX((x)=>{
		sumx=x;
		if(sumy){
			addsum(sumx+sumy);
		}
	})
	addY((y)=>{
		sumy=y;
		if(sumx){
			addsum(sumx+sumy);
		}
	})
}
function sumfnx(resolve){
	setTimeout(()=>{
		resolve(3)// 模拟 ajax 请求，2s 后值返回
	},2000)
}
function sumfny(resolve){
	setTimeout(()=>{
		resolve(4);// 模拟 ajax 请求，5s 后值返回
	},5000)
}
sumadd(sumfnx,sumfny,(res)=>{
	console.log(res) //当 sumfny 和 sumfnx 两个函数中的值都返回时 输出
})
</script>
</body>
</html>