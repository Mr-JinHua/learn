<!DOCTYPE html>
<html>
<head>
	<title>home</title>
</head>
<body>
<script type="text/javascript">
let arr = [
 [ 1, 2, 3, 11, 12, 13 ],
 [ 4, 5, 6, 24, 25, 26 ],
 [ 14, 15, 16, 124, 125, 126 ],
 [ 7, 8, 9, 37, 38 ,39 ]
]

// let arr = [
//  [ 1, 2, 3],
//  [ 4, 5, 6],
//  [ 14, 15, 16],
//  [ 24, 25, 26],
//  [ 34, 35, 36],
//  [ 7, 8, 9]
// ]

function newArray(arr, endArr0 = null) {
	let endArr = endArr0 || []
	if(!arr[0]) return
	let n = arr[0].length
	let m = arr.length
	for(let i = 0; i < m; i++) {
		if (i == 0) {
			for (let io = 0; io < n; io++) {
				if(!arr[0][io]) return
				endArr.push(arr[0][io])
			}
		}
		if(i != 0 && i != m-1) {
			if (!arr[i][n-1]) return
			endArr.push(arr[i][n-1])
			arr[i].pop()
		}
		if(m != 1) {
			if (m != 0 && i == (m - 1)) {
				for (let io = n-1; io >= 0; io--) {
					if(!arr[m-1][io]) return
					endArr.push(arr[m-1][io])
				}
			}
		}
	}
	if(arr.length != 1) {
		for(let i = m-2; i > 0; i--) {
			if (!arr[i][0]) return
			endArr.push(arr[i][0])
			arr[i].shift()
		}
	}
	arr.pop()
	arr.shift()
	newArray(arr, endArr)
	console.log(endArr)
};

newArray(arr)
</script>
</body>
</html>
